<!DOCTYPE html>
<html lang="es" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Petiid Admin | Panel de Administración</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="../HOME/assets/images/favicon.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar Overlay (Mobile) -->
        <div id="sidebar-overlay" class="sidebar-overlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z" />
                        <path d="m8.5 8.5 7 7" />
                    </svg>
                    Petiid <span>Admin</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <!-- Main Navigation -->
                <div class="nav-section">
                    <div class="nav-section-title">Principal</div>
                    <div class="nav-item active" data-section="dashboard">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="7" height="9"></rect>
                            <rect x="14" y="3" width="7" height="5"></rect>
                            <rect x="14" y="12" width="7" height="9"></rect>
                            <rect x="3" y="16" width="7" height="5"></rect>
                        </svg>
                        <span>Dashboard</span>
                    </div>
                    <div class="nav-item" data-section="analytics">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="20" x2="18" y2="10"></line>
                            <line x1="12" y1="20" x2="12" y2="4"></line>
                            <line x1="6" y1="20" x2="6" y2="14"></line>
                        </svg>
                        <span>Estadísticas</span>
                    </div>
                </div>

                <!-- Management -->
                <div class="nav-section">
                    <div class="nav-section-title">Gestión</div>
                    <div class="nav-item" data-section="users">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>Usuarios</span>
                    </div>
                    <div class="nav-item" data-section="pets">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z" />
                            <path d="m8.5 8.5 7 7" />
                        </svg>
                        <span>Mascotas</span>
                    </div>
                </div>

                <!-- Moderation -->
                <div class="nav-section">
                    <div class="nav-section-title">Moderación</div>
                    <div class="nav-item" data-section="reports">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path>
                            <line x1="4" y1="22" x2="4" y2="15"></line>
                        </svg>
                        <span>Reportes</span>
                        <span class="badge" id="reports-badge">0</span>
                    </div>
                </div>

                <!-- System -->
                <div class="nav-section">
                    <div class="nav-section-title">Sistema</div>
                    <div class="nav-item" data-section="system">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path
                                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                            </path>
                        </svg>
                        <span>Configuración</span>
                    </div>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-profile" id="logout-btn">
                    <div class="user-avatar">A</div>
                    <div class="user-info">
                        <div class="user-name">Admin</div>
                        <div class="user-role">Cerrar sesión</div>
                    </div>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        style="color:var(--text-muted);">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                        <polyline points="16 17 21 12 16 7"></polyline>
                        <line x1="21" y1="12" x2="9" y2="12"></line>
                    </svg>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <button id="menu-toggle" class="menu-toggle">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="3" y1="12" x2="21" y2="12"></line>
                            <line x1="3" y1="6" x2="21" y2="6"></line>
                            <line x1="3" y1="18" x2="21" y2="18"></line>
                        </svg>
                    </button>
                    <div class="search-box">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                        <input type="text" id="global-search" placeholder="Buscar usuarios, mascotas...">
                    </div>
                </div>
                <div class="header-right">
                    <button class="header-btn" title="Notificaciones">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                        </svg>
                        <span class="notification-dot"></span>
                    </button>
                    <div class="theme-toggle">
                        <button data-theme="light" title="Modo claro">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                        </button>
                        <button data-theme="dark" class="active" title="Modo oscuro">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <div class="page-content">

                <!-- ====== DASHBOARD SECTION ====== -->
                <section id="section-dashboard" class="section">
                    <div class="page-header">
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Resumen general de Petiid</p>
                    </div>

                    <!-- Stats Grid -->
                    <div class="stats-grid">
                        <div class="stat-card" id="stat-users">
                            <div class="stat-header">
                                <div class="stat-icon blue">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="9" cy="7" r="4"></circle>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value">-</div>
                            <div class="stat-label">Usuarios Totales</div>
                        </div>
                        <div class="stat-card" id="stat-pets">
                            <div class="stat-header">
                                <div class="stat-icon orange">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value">-</div>
                            <div class="stat-label">Mascotas Registradas</div>
                        </div>
                        <div class="stat-card" id="stat-posts">
                            <div class="stat-header">
                                <div class="stat-icon green">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value">-</div>
                            <div class="stat-label">Publicaciones</div>
                        </div>
                        <div class="stat-card" id="stat-reports">
                            <div class="stat-header">
                                <div class="stat-icon red">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path>
                                        <line x1="4" y1="22" x2="4" y2="15"></line>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value">-</div>
                            <div class="stat-label">Reportes Pendientes</div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(400px, 1fr));gap:24px;">
                        <!-- Recent Users -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Usuarios Recientes</h3>
                                <button class="btn btn-secondary btn-sm" onclick="router.navigateTo('users')">Ver
                                    todos</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Usuario</th>
                                            <th>Rol</th>
                                            <th>Registro</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody id="recent-users-table">
                                        <tr>
                                            <td colspan="4" class="text-center">
                                                <div class="loading-spinner"></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Pending Reports -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Reportes Pendientes</h3>
                                <button class="btn btn-secondary btn-sm" onclick="router.navigateTo('reports')">Ver
                                    todos</button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Razón</th>
                                            <th>Reportado por</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody id="pending-reports-table">
                                        <tr>
                                            <td colspan="4" class="text-center">
                                                <div class="loading-spinner"></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ====== USERS SECTION ====== -->
                <section id="section-users" class="section hidden">
                    <div class="page-header">
                        <h1 class="page-title">Usuarios</h1>
                        <p class="page-subtitle">Gestión de usuarios de la plataforma</p>
                    </div>

                    <!-- Filters -->
                    <div class="filters-bar">
                        <input type="text" class="filter-input" placeholder="Buscar por nombre o email..."
                            oninput="users.onSearch(this.value)">
                        <select class="filter-select" onchange="users.onFilterChange('role', this.value)">
                            <option value="all">Todos los roles</option>
                            <option value="user">Usuario</option>
                            <option value="foundation">Fundación</option>
                            <option value="vet">Veterinario</option>
                            <option value="admin">Admin</option>
                        </select>
                        <select class="filter-select" onchange="users.onFilterChange('status', this.value)">
                            <option value="all">Todos los estados</option>
                            <option value="active">Activos</option>
                            <option value="banned">Baneados</option>
                        </select>
                    </div>

                    <!-- Users Table -->
                    <div class="card">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Usuario</th>
                                        <th>Rol</th>
                                        <th>Trust Score</th>
                                        <th>País</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="users-table-body">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="loading-spinner"></div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="card-body"
                            style="display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-top:1px solid var(--border);">
                            <div id="users-pagination"></div>
                        </div>
                    </div>
                </section>

                <!-- ====== PETS SECTION ====== -->
                <section id="section-pets" class="section hidden">
                    <div class="page-header">
                        <h1 class="page-title">Mascotas</h1>
                        <p class="page-subtitle">Gestión de mascotas registradas</p>
                    </div>

                    <!-- Filters -->
                    <div class="filters-bar">
                        <input type="text" class="filter-input" placeholder="Buscar mascota..."
                            oninput="pets.onSearch(this.value)">
                        <select class="filter-select" onchange="pets.onFilterChange('species', this.value)">
                            <option value="all">Todas las especies</option>
                            <option value="dog">Perros</option>
                            <option value="cat">Gatos</option>
                            <option value="bird">Aves</option>
                            <option value="rabbit">Conejos</option>
                            <option value="other">Otros</option>
                        </select>
                        <select class="filter-select" onchange="pets.onFilterChange('status', this.value)">
                            <option value="all">Todos los estados</option>
                            <option value="normal">Normal</option>
                            <option value="lost">Perdidos</option>
                            <option value="adopted">Adoptados</option>
                        </select>
                    </div>

                    <!-- Pets Table -->
                    <div class="card">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Mascota</th>
                                        <th>Especie</th>
                                        <th>Dueño</th>
                                        <th>Estado</th>
                                        <th>Registro</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="pets-table-body">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="loading-spinner"></div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="card-body"
                            style="display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-top:1px solid var(--border);">
                            <div id="pets-pagination"></div>
                        </div>
                    </div>
                </section>

                <!-- ====== REPORTS SECTION ====== -->
                <section id="section-reports" class="section hidden">
                    <div class="page-header">
                        <h1 class="page-title">Centro de Reportes</h1>
                        <p class="page-subtitle">Moderación de contenido reportado</p>
                    </div>

                    <!-- Stats -->
                    <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr); margin-bottom: 24px;">
                        <div class="stat-card" style="padding: 20px;">
                            <div class="stat-value" style="font-size: 28px; color: var(--warning);"
                                id="reports-pending-count">0</div>
                            <div class="stat-label">Pendientes</div>
                        </div>
                        <div class="stat-card" style="padding: 20px;">
                            <div class="stat-value" style="font-size: 28px; color: var(--success);"
                                id="reports-resolved-count">0</div>
                            <div class="stat-label">Resueltos</div>
                        </div>
                        <div class="stat-card" style="padding: 20px;">
                            <div class="stat-value" style="font-size: 28px; color: var(--text-muted);"
                                id="reports-dismissed-count">0</div>
                            <div class="stat-label">Descartados</div>
                        </div>
                    </div>

                    <!-- Filters -->
                    <div class="filters-bar">
                        <select class="filter-select" onchange="reports.onFilterChange('status', this.value)">
                            <option value="pending">Pendientes</option>
                            <option value="all">Todos</option>
                            <option value="resolved">Resueltos</option>
                            <option value="dismissed">Descartados</option>
                        </select>
                        <select class="filter-select" onchange="reports.onFilterChange('type', this.value)">
                            <option value="all">Todos los tipos</option>
                            <option value="post">Publicaciones</option>
                            <option value="comment">Comentarios</option>
                            <option value="user">Usuarios</option>
                        </select>
                    </div>

                    <!-- Reports Table -->
                    <div class="card">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Razón</th>
                                        <th>Reportado por</th>
                                        <th>Usuario reportado</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="reports-table-body">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="loading-spinner"></div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="card-body"
                            style="display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-top:1px solid var(--border);">
                            <div id="reports-pagination"></div>
                        </div>
                    </div>
                </section>

                <!-- ====== ANALYTICS SECTION ====== -->
                <section id="section-analytics" class="section hidden">
                    <div class="page-header" style="display:flex;justify-content:space-between;align-items:center;">
                        <div>
                            <h1 class="page-title">Estadísticas</h1>
                            <p class="page-subtitle">Análisis y métricas de la plataforma</p>
                        </div>
                        <div class="flex gap-2">
                            <button class="btn btn-secondary btn-sm date-range-btn" data-range="7d"
                                onclick="analytics.changeDateRange('7d')">7 días</button>
                            <button class="btn btn-secondary btn-sm date-range-btn active" data-range="30d"
                                onclick="analytics.changeDateRange('30d')">30 días</button>
                            <button class="btn btn-secondary btn-sm date-range-btn" data-range="90d"
                                onclick="analytics.changeDateRange('90d')">90 días</button>
                            <button class="btn btn-secondary btn-sm date-range-btn" data-range="1y"
                                onclick="analytics.changeDateRange('1y')">1 año</button>
                        </div>
                    </div>

                    <!-- Overview Stats -->
                    <div class="stats-grid" style="margin-bottom:32px;">
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon blue">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="8.5" cy="7" r="4"></circle>
                                        <line x1="20" y1="8" x2="20" y2="14"></line>
                                        <line x1="23" y1="11" x2="17" y2="11"></line>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value" id="analytics-new-users">-</div>
                            <div class="stat-label">Nuevos Usuarios</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon orange">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value" id="analytics-new-pets">-</div>
                            <div class="stat-label">Nuevas Mascotas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon green">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path
                                            d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                                        </path>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value" id="analytics-new-posts">-</div>
                            <div class="stat-label">Nuevas Publicaciones</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-header">
                                <div class="stat-icon red">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path
                                            d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z">
                                        </path>
                                        <line x1="12" y1="9" x2="12" y2="13"></line>
                                        <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                    </svg>
                                </div>
                            </div>
                            <div class="stat-value" id="analytics-active-reports">-</div>
                            <div class="stat-label">Reportes Activos</div>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div style="display:grid;grid-template-columns:2fr 1fr;gap:24px;margin-bottom:24px;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Crecimiento de Usuarios</h3>
                            </div>
                            <div class="card-body" id="user-growth-chart">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Mascotas por Especie</h3>
                            </div>
                            <div class="card-body" id="species-chart">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                    </div>

                    <div style="display:grid;grid-template-columns:1fr 1fr;gap:24px;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Usuarios por País</h3>
                            </div>
                            <div class="card-body" id="geo-chart">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Dispositivos</h3>
                            </div>
                            <div class="card-body" id="device-stats">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ====== SYSTEM SECTION ====== -->
                <section id="section-system" class="section hidden">
                    <div class="page-header">
                        <h1 class="page-title">Configuración del Sistema</h1>
                        <p class="page-subtitle">Ajustes y gestión del sistema</p>
                    </div>

                    <!-- Tabs -->
                    <div class="tabs" style="width:fit-content;">
                        <button class="tab-btn active" onclick="system.switchTab('breeds')">Razas</button>
                        <button class="tab-btn" onclick="system.switchTab('audit')">Logs de Auditoría</button>
                        <button class="tab-btn" onclick="system.switchTab('deletion')">Eliminación de Cuentas</button>
                    </div>

                    <!-- Breeds Tab -->
                    <div id="tab-breeds" class="tab-content active">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Razas Registradas</h3>
                                <button class="btn btn-primary btn-sm" onclick="system.addBreed()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <line x1="12" y1="5" x2="12" y2="19"></line>
                                        <line x1="5" y1="12" x2="19" y2="12"></line>
                                    </svg>
                                    Agregar Raza
                                </button>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Nombre</th>
                                            <th>Especie</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="breeds-table-body">
                                        <tr>
                                            <td colspan="4" class="text-center">
                                                <div class="loading-spinner"></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Audit Logs Tab -->
                    <div id="tab-audit" class="tab-content" style="display:none;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Logs de Auditoría</h3>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Fecha</th>
                                            <th>Acción</th>
                                            <th>Usuario</th>
                                            <th>Detalles</th>
                                        </tr>
                                    </thead>
                                    <tbody id="audit-logs-body">
                                        <tr>
                                            <td colspan="4" class="text-center">
                                                <div class="loading-spinner"></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Deletion Requests Tab -->
                    <div id="tab-deletion" class="tab-content" style="display:none;">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Solicitudes de Eliminación de Cuenta</h3>
                            </div>
                            <div class="table-container">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>Usuario</th>
                                            <th>Razón</th>
                                            <th>Estado</th>
                                            <th>Fecha</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="deletion-requests-body">
                                        <tr>
                                            <td colspan="5" class="text-center">
                                                <div class="loading-spinner"></div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- App Scripts -->
    <script src="js/supabase-client.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/router.js"></script>
    <script src="js/modules/modals.js"></script>
    <script src="js/modules/dashboard.js"></script>
    <script src="js/modules/users.js"></script>
    <script src="js/modules/pets.js"></script>
    <script src="js/modules/reports.js"></script>
    <script src="js/modules/analytics.js"></script>
    <script src="js/modules/system.js"></script>
    <script src="js/app.js"></script>

    <!-- System Tab Switching -->
    <script>
        system.switchTab = function (tabName) {
            // Update buttons
            document.querySelectorAll('#section-system .tab-btn').forEach(btn => {
                btn.classList.toggle('active', btn.textContent.toLowerCase().includes(tabName.substring(0, 4)));
            });

            // Update content
            document.querySelectorAll('#section-system .tab-content').forEach(content => {
                content.style.display = content.id === `tab-${tabName}` ? 'block' : 'none';
            });
        };
    </script>
</body>

</html><!-- Cache bust: Sat Feb  7 10:48:24 -05 2026 -->
